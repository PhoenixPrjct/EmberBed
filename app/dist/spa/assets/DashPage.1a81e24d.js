import{_ as x,k as T,bq as D,r as l,ac as S,m as E,n as d,q as g,s as c,t as n,bH as I,G as p,v as i,E as w,C as R,a2 as B,F as q,x as h,a3 as K,y as N,J as Q,K as F}from"./index.3ba0a9f2.js";import{u as W,b as z}from"./use-quasar.1f7e2017.js";import{u as M,C as V}from"./collectionSubmission.ce967779.js";import{C as j}from"./formattingTools.14bd13a9.js";import{C as G}from"./FireAcctInfoDialogue.7d9a69a4.js";import"./user_store.1b740d83.js";import"./rtl.f9091b29.js";import"./server-api.2003bae9.js";import"./index.6bbe8a48.js";import"./SplashPage.b4d081e7.js";import"./QSpace.08e50f5c.js";import"./QResizeObserver.6b3dcffd.js";const H=s=>(Q("data-v-5e8239b6"),s=s(),F(),s),J={class:"btn-container"},L=H(()=>c("section",{class:"info-container"},[c("h4",null,"This is where info will go on how to use this page.")],-1)),X={key:1},Y=T({__name:"DashPage",setup(s){const f=W(),{api:m,connection:C,program:y}=M(),r=D();l({rewardMint:"REWTvQ7zqtfoedwsPGCX9TF59HvAoM76LobtzmPPpko",collectionName:"TestEyes",collectionAddress:"CG4KDtfDDvYWP4ChqxKVLXjxjrg8VT28RoMpJgjYosFs",ratePerDay:3,fireEligible:!0,phoenixRelation:{kind:"Affiliate"},rewardSymbol:"$EYE"});const u=l(null),v=l(null),a=l([]),b=new S("REWTvQ7zqtfoedwsPGCX9TF59HvAoM76LobtzmPPpko");E(async()=>{const t=r.value?.publicKey.toBase58();if(console.log(u.value),!a.value?.length){await(await y.value.account.collectionRewardInfo.all()).map(o=>{console.log("DashPasge:57",o.account),o.account.manager.toBase58()==t&&(a.value=[...a.value,o])});return}});async function P(t,e){if(u.value=null,!m.value)return!1;v.value=await m.value.getAccounts({user:r.value.publicKey,collectionName:t,rewardMint:e});const{RewTok:o,stateBump:O,statePDA:A,rewardWallet:U,funderTokenAta:Z,userAccountPDA:ee,userRewardAta:oe,nftCollectionAddress:te}=v.value,_=await V.fetch(C,A);!_||(u.value=_.toJSON())}async function k(t,e){if(t.target.innerText?e=t.target.innerText:e=void 0,typeof e!="string")return f.notify({color:"red-10",textColor:"white",icon:"warning",message:"So that didn't work. . . sorry",caption:"Was Expecting Type To Be 'string' . . . contact the dev.",position:"top"});const o=await j(e);return f.notify({...o})}return(t,e)=>(d(),g(q,null,[c("section",J,[n(p,{dark:"",label:"Add New",icon:"add",class:I(a.value.length?void 0:"add-btn"),to:"/admin/new"},null,8,["class"]),n(p,{dark:"",label:"Stats",icon:"query_stats"},{default:i(()=>[n(z,null,{default:i(()=>[h("Coming Soon.")]),_:1})]),_:1}),n(p,{dark:"",label:"Active Collections",onClick:e[0]||(e[0]=o=>P("TestEyes",w(b).toBase58())),icon:"person"})]),L,a.value?(d(),R(G,{key:0,collectionPDAs:a.value},null,8,["collectionPDAs"])):(d(),g("section",X,[n(B,{dark:"",class:"no-collections"},{default:i(()=>[n(K,{class:"text-h5 text-center"},{default:i(()=>[h(" No Collections Found for "),c("div",{class:"pubkey",onClick:e[1]||(e[1]=o=>k(o))},N(w(r)?.publicKey),1)]),_:1})]),_:1})]))],64))}});var ve=x(Y,[["__scopeId","data-v-5e8239b6"],["__file","/home/proto/PhoenixProj/Repos/EmberBed/app/src/pages/admin/DashPage.vue"]]);export{ve as default};
