import{_ as b,k,A as B,r as s,m as x,n as r,q as h,s as m,C as d,G as i,H as v,t as u,F as w}from"./index.3ba0a9f2.js";import{Q as $}from"./QSelect.b1980753.js";import{u as V}from"./collectionSubmission.ce967779.js";import{U as D}from"./UserNftTray.08356a13.js";import{u as N}from"./server-api.2003bae9.js";import{u as A}from"./use-quasar.1f7e2017.js";import"./QChip.c422f5ee.js";import"./rtl.f9091b29.js";import"./user_store.1b740d83.js";import"./QImg.92e22528.js";import"./index.6bbe8a48.js";import"./index.c901022e.js";import"./formattingTools.14bd13a9.js";const E={class:"search-section"},G={class:"flex justify-center"},I=k({__name:"DashPage",setup(Q){const{notify:f}=A(),g=B(),{server_api:_}=N(),{program:y}=V(),a=s([]),n=s([]),c=s([]),o=s();function C(){const l=n.value.find(e=>e.name==o.value);if(!l)return f({type:"error",message:"Collection not found",caption:"Collection Page Not Found",position:"top"});g.push(`/c/${l?.account}`)}return x(async()=>{if(!a.value?.length){await(await y.value.account.collectionRewardInfo.all()).map(e=>{a.value=[...a.value,e]});const l=a.value.map(async e=>{console.log({pda:e.publicKey.toBase58()});const{name:t}=await _.collection.get.one(e.publicKey.toBase58()),P=e.publicKey.toBase58(),p={name:t,account:P};return console.log({res:p}),p});n.value=await Promise.all(l),c.value=n.value.map(e=>e.name)}}),(l,e)=>(r(),h(w,null,[m("section",E,[m("div",G,[l.$q.screen.gt.sm?(r(),d(i,{key:0,outline:"",label:o.value?"Reset Selection":"Go to Collection Page:",onClick:e[0]||(e[0]=t=>o.value=void 0)},null,8,["label"])):v("",!0),!l.$q.screen.gt.sm&&o.value?(r(),d(i,{key:1,outline:"",icon:"'clear_all'",onClick:e[1]||(e[1]=t=>o.value=void 0)})):v("",!0),u($,{filled:"",style:{"border-top":"1px solid #fff","min-width":"200px",flex:"1 0 65%"},dark:"",modelValue:o.value,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value=t),label:o.value?void 0:"EmberBed Collections",options:c.value,onClick:e[3]||(e[3]=t=>o.value=void 0)},null,8,["modelValue","label","options"]),u(i,{outline:!!o.value,style:{"padding-left":"1rem",flex:"0 0 10%"},label:"Go",disable:!o.value,onClick:e[4]||(e[4]=t=>C())},null,8,["outline","disable"])])]),u(D,{colPda:null,theme:null})],64))}});var M=b(I,[["__scopeId","data-v-10e7f4d1"],["__file","/home/proto/PhoenixProj/Repos/EmberBed/app/src/pages/user/DashPage.vue"]]);export{M as default};
