import{a as P,au as O,aO as E,ar as H,aP as J,f as a,g as l,h as A,j as R,r as g,aA as N,w as W,aJ as X,L as G,ae as K,bJ as C}from"./index.473a68e4.js";const U={xs:2,sm:4,md:6,lg:10,xl:14};function D(e,n,i){return{transform:n===!0?`translateX(${i.lang.rtl===!0?"-":""}100%) scale3d(${-e},1,1)`:`scale3d(${e},1,1)`}}var ee=P({name:"QLinearProgress",props:{...O,...E,value:{type:Number,default:0},buffer:Number,color:String,trackColor:String,reverse:Boolean,stripe:Boolean,indeterminate:Boolean,query:Boolean,rounded:Boolean,animationSpeed:{type:[String,Number],default:2100},instantFeedback:Boolean},setup(e,{slots:n}){const{proxy:i}=R(),m=H(e,i.$q),d=J(e,U),u=a(()=>e.indeterminate===!0||e.query===!0),f=a(()=>e.reverse!==e.query),v=a(()=>({...d.value!==null?d.value:{},"--q-linear-progress-speed":`${e.animationSpeed}ms`})),b=a(()=>"q-linear-progress"+(e.color!==void 0?` text-${e.color}`:"")+(e.reverse===!0||e.query===!0?" q-linear-progress--reverse":"")+(e.rounded===!0?" rounded-borders":"")),S=a(()=>D(e.buffer!==void 0?e.buffer:1,f.value,i.$q)),r=a(()=>`with${e.instantFeedback===!0?"out":""}-transition`),o=a(()=>`q-linear-progress__track absolute-full q-linear-progress__track--${r.value} q-linear-progress__track--${m.value===!0?"dark":"light"}`+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),c=a(()=>D(u.value===!0?1:e.value,f.value,i.$q)),s=a(()=>`q-linear-progress__model absolute-full q-linear-progress__model--${r.value} q-linear-progress__model--${u.value===!0?"in":""}determinate`),q=a(()=>({width:`${e.value*100}%`})),$=a(()=>`q-linear-progress__stripe absolute-${e.reverse===!0?"right":"left"} q-linear-progress__stripe--${r.value}`);return()=>{const h=[l("div",{class:o.value,style:S.value}),l("div",{class:s.value,style:c.value})];return e.stripe===!0&&u.value===!1&&h.push(l("div",{class:$.value,style:q.value})),l("div",{class:b.value,style:v.value,role:"progressbar","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":e.indeterminate===!0?void 0:e.value},A(n.default,h))}}});const V={ratio:[String,Number]};function Y(e,n){return a(()=>{const i=Number(e.ratio||(n!==void 0?n.value:void 0));return isNaN(i)!==!0&&i>0?{paddingBottom:`${100/i}%`}:null})}const Z=16/9;var te=P({name:"QImg",props:{...V,src:String,srcset:String,sizes:String,alt:String,crossorigin:String,decoding:String,referrerpolicy:String,draggable:Boolean,loading:{type:String,default:"lazy"},loadingShowDelay:{type:[Number,String],default:0},fetchpriority:{type:String,default:"auto"},width:String,height:String,initialRatio:{type:[Number,String],default:Z},placeholderSrc:String,fit:{type:String,default:"cover"},position:{type:String,default:"50% 50%"},imgClass:String,imgStyle:Object,noSpinner:Boolean,noNativeMenu:Boolean,noTransition:Boolean,spinnerColor:String,spinnerSize:String},emits:["load","error"],setup(e,{slots:n,emit:i}){const m=g(e.initialRatio),d=Y(e,m),u=R(),{registerTimeout:f,removeTimeout:v}=N(),{registerTimeout:b,removeTimeout:S}=N(),r=[g(null),g(w())],o=g(0),c=g(!1),s=g(!1),q=a(()=>`q-img q-img--${e.noNativeMenu===!0?"no-":""}menu`),$=a(()=>({width:e.width,height:e.height})),h=a(()=>`q-img__image ${e.imgClass!==void 0?e.imgClass+" ":""}q-img__image--with${e.noTransition===!0?"out":""}-transition`),x=a(()=>({...e.imgStyle,objectFit:e.fit,objectPosition:e.position}));W(()=>z(),T);function I(){if(S(),e.loadingShowDelay===0){c.value=!0;return}b(()=>{c.value=!0},e.loadingShowDelay)}function k(){S(),c.value=!1}function z(){return e.src||e.srcset||e.sizes?{src:e.src,srcset:e.srcset,sizes:e.sizes}:null}function w(){return e.placeholderSrc!==void 0?{src:e.placeholderSrc}:null}function T(t){v(),s.value=!1,t===null?(k(),r[o.value^1].value=w()):I(),r[o.value].value=t}function Q({target:t}){C(u)===!1&&(v(),m.value=t.naturalHeight===0?.5:t.naturalWidth/t.naturalHeight,B(t,1))}function B(t,y){y===1e3||C(u)===!0||(t.complete===!0?j(t):f(()=>{B(t,y+1)},50))}function j(t){C(u)!==!0&&(o.value=o.value^1,r[o.value].value=null,k(),s.value=!1,i("load",t.currentSrc||t.src))}function F(t){v(),k(),s.value=!0,r[o.value].value=null,r[o.value^1].value=w(),i("error",t)}function L(t){const y=r[t].value,_={key:"img_"+t,class:h.value,style:x.value,alt:e.alt,crossorigin:e.crossorigin,decoding:e.decoding,referrerpolicy:e.referrerpolicy,height:e.height,width:e.width,loading:e.loading,fetchpriority:e.fetchpriority,"aria-hidden":"true",draggable:e.draggable,...y};return o.value===t?(_.class+=" q-img__image--waiting",Object.assign(_,{onLoad:Q,onError:F})):_.class+=" q-img__image--loaded",l("div",{class:"q-img__container absolute-full",key:"img"+t},l("img",_))}function M(){return c.value===!1?l("div",{key:"content",class:"q-img__content absolute-full q-anchor--skip"},G(n[s.value===!0?"error":"default"])):l("div",{key:"loading",class:"q-img__loading absolute-full flex flex-center"},n.loading!==void 0?n.loading():e.noSpinner===!0?void 0:[l(K,{color:e.spinnerColor,size:e.spinnerSize})])}return T(z()),()=>{const t=[];return d.value!==null&&t.push(l("div",{key:"filler",style:d.value})),s.value!==!0&&(r[0].value!==null&&t.push(L(0)),r[1].value!==null&&t.push(L(1))),t.push(l(X,{name:"q-transition--fade"},M)),l("div",{class:q.value,style:$.value,role:"img","aria-label":e.alt},t)}}});export{ee as Q,te as a};
